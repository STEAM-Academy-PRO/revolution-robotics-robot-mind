{
    // See https://go.microsoft.com/fwlink/?LinkId=733558
    // for the documentation about the tasks.json format
    "version": "2.0.0",
    "tasks": [
        {
            "label": "generate version",
            "type": "shell",
            "command": "${config:python.pythonPath} -m tools.gen_version",
            "problemMatcher": []
        },
        {
            "label": "generate makefile",
            "type": "shell",
            "command": "${config:python.pythonPath} -m tools.generate_makefile --cleanup",
            "problemMatcher": []
        },
        {
            "label": "generate runtime",
            "type": "shell",
            "command": "${config:python.pythonPath} -m cglue.cli --generate --cglue-output=rrrc/generated_runtime --cleanup",
            "problemMatcher": []
        },
        {
            "label": "generate documentation",
            "type": "shell",
            "command": "${config:python.pythonPath} -m tools.generate_component_diagram --ignore-components=Runtime --output=docs/map --display",
            "problemMatcher": []
        },
        {
            "label": "make clean",
            "type": "shell",
            "command": "make clean",
            "problemMatcher": "$gcc"
        },
        {
            "label": "make debug",
            "type": "shell",
            "command": "make all config=debug",
            "problemMatcher": "$gcc",
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "dependsOn":
            [
                "generate version",
                "generate makefile",
                "generate runtime"
            ]
        },
        {
            "label": "make release",
            "type": "shell",
            "command": "make all config=release",
            "problemMatcher": "$gcc",
            "dependsOn":
            [
                "generate version",
                "generate makefile",
                "generate runtime"
            ]
        },
        {
            "label": "prepare release binary",
            "type": "shell",
            "command": "${config:python.pythonPath} -m tools.prepare",
            "problemMatcher": "$gcc",
            "dependsOn":
            [
                "make release"
            ]
        },
        {
            "label": "prepare debug binary",
            "type": "shell",
            "command": "${config:python.pythonPath} -m tools.prepare --debug",
            "problemMatcher": "$gcc",
            "dependsOn":
            [
                "make debug"
            ]
        }
    ]
}